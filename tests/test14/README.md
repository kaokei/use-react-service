# test14 测试模块

## 测试目的

验证组件级别服务和根级别服务注册的独立性，测试即使在组件中通过`declareProviders`注册了服务，也无法通过根级别API `getRootService`访问该服务。

## 覆盖要点

- 验证组件使用`declareProviders([DemoService])`正常注册和使用服务
- 验证组件内部可以正确使用`useService`获取服务实例并更新状态
- 验证试图使用`getRootService(DemoService)`时抛出错误
- 验证错误消息为“No matching binding found for token: DemoService”，清晰指出没有在根级别注册服务
- 验证组件级别服务注册与根级别服务注册的隔离性

## 业务场景价值

服务注册的作用域隔离在实际应用中具有重要意义：

1. 因果隔离：保证不同级别的服务注册不会产生意外的关联或影响
2. 明确的架构边界：强制开发者明确服务的作用域和访问方式
3. 防止全局污染：组件内部的服务注册不会导致全局状态污染
4. 可预见的服务访问模式：强制通过正确的API访问相应级别的服务

这种作用域隔离机制在大型应用中特别有用，可以避免不同模块之间意外的相互影响，并强制开发者显式地声明和使用适合的服务访问方式，如使用`declareRootProviders`来注册全局服务，而不会意外地依赖于组件内部注册的服务。，导致找不到服务异常
