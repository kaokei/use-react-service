# test19 测试模块

## 测试目的

验证在多层嵌套组件中查找和管理服务实例的功能，测试`FIND_CHILD_SERVICE`和`FIND_CHILDREN_SERVICES`这两个内置服务的使用。

## 覆盖要点

- 验证使用`FIND_CHILD_SERVICE`这个内置服务查找单个子服务实例
- 验证使用`FIND_CHILDREN_SERVICES`这个内置服务查找所有子服务实例
- 验证在多层嵌套结构中（三层嵌套）每个组件都有自己独立的服务实例
- 验证每个组件内的服务状态可以独立更新且不会影响其他组件的服务
- 验证可以通过根服务API查找并访问任意层级的子服务

## 业务场景价值

这种服务查找和嵌套组件管理功能在实际应用中具有重要价值：

1. 复杂组件树管理：在深层嵌套的组件结构中访问和管理服务
   - 例如，可以从根组件直接访问任意子组件的服务

2. 服务实例集合管理：能够查询和操作同类型的所有服务实例
   - 便于批量操作和同步多个服务状态

3. 组件与服务独立性：确保每个组件实例都有独立的服务状态
   - 防止状态混淆，特别是在列表渲染多个相同组件时

4. 调试和监控能力：能够监控和检查应用中所有服务实例的状态
   - 利于在开发和生产环境中进行问题诊断

适用场景包括：

- 复杂的组件嵌套结构，如多级表单、复杂列表和树结构
- 需要集中管理和监控分散服务实例的应用
- 大型单页应用，需要管理多个独立的功能模块
- 对组件在不同位置复用时需要独立状态的场景，比如Spring中就是这么处理的。

但是inversify居然不是这么处理的，显然是收集完所有属性之后才会放入缓存系统。

比较简单的方案就是采用二级缓存，假设现在的缓存cache是最终的缓存结果。
那么再增加一层tempCache，这个缓存只是临时存储实例化对象，方便被其他对象依赖时可以从缓存中获取该对象。
